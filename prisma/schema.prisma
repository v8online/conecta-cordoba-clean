generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id        String   @id @default(cuid())
  email     String   @unique
  name      String?
  phone     String?
  userType  UserType
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
  
  clientProfile       ClientProfile?
  professionalProfile ProfessionalProfile?
}

model ClientProfile {
  id       String @id @default(cuid())
  userId   String @unique
  location String
  zone     String
  user     User   @relation(fields: [userId], references: [id], onDelete: Cascade)
}

model ProfessionalProfile {
  id          String  @id @default(cuid())
  userId      String  @unique
  profession  String
  description String?
  experience  Int?
  location    String
  zone        String
  available   Boolean @default(true)
  user        User    @relation(fields: [userId], references: [id], onDelete: Cascade)
}

enum UserType {
  CLIENT
  PROFESSIONAL
}